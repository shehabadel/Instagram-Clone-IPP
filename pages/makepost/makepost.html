<html>

<head>
    <title> make post </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../../css/index.css">
    <link rel="stylesheet" type="text/css" href="makepost.css">
    <link rel="icon" href="post.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@200&display=swap" rel="stylesheet">

    <script src="../database.js" type="text/javascript"></script>

</head>
<div class="container">
    <div class="row">
        <div id="left-col" class="col-sm-1 col-md-2 d-none d-sm-none d-md-block">
            <div class="card bg-transparent main-text border-0 profile-card">
                <div class="card-header border-0 profile-avatar-wrapper">
                    <!--Redirects to user's profile-->
                    <a href="../profile/Profile.html" id="profilehyperlink" class="profile-hyperlink">
                        <!--Fetch user's avatar here-->
                        <img id="profile-avatar" src="dog.png" class="card-img-top avatar profile-avatar" alt="...">
                    </a>
                </div>
                <div class="card-body">
                    <div id="profile-username-name">
                        <!--Redirects to user's profile-->
                        <a href="../profile/Profile.html" id="profilehyperlink2" class="profile-hyperlink">
                            <!--Fetch user's name here-->
                            <!--Use php Sessions here-->
                            <h4 id="profile-name" class="fw-600">Doje</h4>
                        </a>
                        <!--Fetch user's username here-->
                        <!--Use php Sessions here-->
                        <h6 id="profile-username" class="secondary-text">@cool-doggo</h6>
                    </div>
                </div>
            </div>
            <div class="left-col-nav">
                <ul class="list-group bg-transparent">
                    <li class="list-group-item" aria-current="true">
                        <!--Link to home page-->
                        <a href="../home/home.html" id="homelink">
                            <span><i class="fa-solid fa-house"></i></span>
                            <p>
                                Home
                            </p>
                    </li>
                    </a>
                    <li class="list-group-item">
                        <!--Link to profile page-->
                        <a href="../profile/Profile.html" id="profilehyperlink3">
                            <span><i class="fa-solid fa-user"></i></span>
                            <p>
                                Profile
                            </p>
                        </a>
                    </li>
                    <li class="list-group-item">
                        <!--Link to search page-->
                        <a href="../search/search.html" id="searchhyperlink">
                            <span><i class="fa-solid fa-magnifying-glass"></i></span>
                            <p>
                                Search
                            </p>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="mt-5 write-post-wrapper">
                <!--Link to post page-->
                <a href="../makepost/makepost.html" id="posthyperlink">
                    <button id="write-post-btn" class="btn main-button main-text"><span><i
                                class="fa-solid fa-pen"></i></span>
                        <p>Write Post</p>
                    </button>
                </a>
            </div>
        </div>
        <div class="col-sm-12 col-md-10">

            <div class="container2">
                <div class="Bg1">
                    <div class="box image">
                        <h1> make a post now! </h1>
                        <button class="imageBtn"> Upload Image</button>
                    </div>

                    <div class="box caption">
                        <h1> Wanna say something about this picture?</h1>

                        <button class="captionBtn"> Add Caption</button>
                        <h1 class="underlineme"> or</h1>
                        <input id="postwocap" type="submit" value="Post without Caption" onclick=uploadNoCaption()>
                    </div>
                </div>

                <div class=" formBox">
                    <div class="form imageForm">
                        <form id="imageform">
                            <h1> Upload Image </h1>
                            <div class="grid">
                                <div class="form-element">
                                    <input type="file" id="file-1" accept="image/*">
                                    <label for="file-1" id="file-1-preview">

                                        <img src="image.png" alt="">
                                        <div class="arrowimg"><img id="arrow" src="arrow.png" alt="arrow"> </div>

                                        <div class="button-container">
                                            <input id="file-1" type="file" accept="image/*" hidden multiple />
                                            <label class="upload-button" for="file-1">Choose Image</label>
                                        </div>
                                    </label>
                        </form>
                    </div>

                    <div class="form captionForm">
                        <form id="textform" >
                            <h1> Add Text <div class="blinking"><img id="cursor" src="cursor.png" alt="cursor"> </div>
                            </h1>

                            <textarea id="captionContent" rows="15 cols=15" > </textarea>
                            <input type="button" value="Post" onclick=uploadWithCaption()>
                        </form>
                    </div>
                </div>


            </div>


        </div>
    </div>
</div>


<!--Start Popper-->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
<!--End Popper-->
<!--Start Bootstrap-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
<!--End Bootstrap-->




<script>
    
    const imageBtn = document.querySelector('.imageBtn');
    const captionBtn = document.querySelector('.captionBtn');
    const formBox = document.querySelector('.formBox');
    const body = document.querySelector('body')

    captionBtn.onclick = function () {
        formBox.classList.add('active')
        body.classList.add('active')
    }

    imageBtn.onclick = function () {
        formBox.classList.remove('active')
        body.classList.remove('active')
    }


</script>

<script>

    function previewBeforeUpload(id) {
        document.querySelector("#" + id).addEventListener("change", function (e) {
            if (e.target.files.length == 0) {
                return;
            }
            let file = e.target.files[0];
            let url = URL.createObjectURL(file);
            document.querySelector("#" + id + "-preview div").innerText = file.name;
            document.querySelector("#" + id + "-preview img").src = url;
        });
    }

    previewBeforeUpload("file-1");



</script>

<script src="makepost.js"></script>
</body>

</html>